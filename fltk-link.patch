--- fltk-1.1.4/src/Makefile.orig	2003-08-24 15:09:06.000000000 +0200
+++ fltk-1.1.4/src/Makefile	2004-04-07 00:16:16.828411328 +0200
@@ -200,7 +200,7 @@
 
 libfltk.so.1.1: $(OBJECTS)
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(OBJECTS)
+	$(DSOCOMMAND) $@ $(OBJECTS) $(LDLIBS)
 	$(RM) libfltk.so
 	$(LN) libfltk.so.1.1 libfltk.so
 
@@ -236,7 +236,7 @@
 
 libfltk_forms.so.1.1: $(FLOBJECTS) libfltk.so.1.1
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(FLOBJECTS) -L. -lfltk
+	$(DSOCOMMAND) $@ $(FLOBJECTS) -L. -lfltk $(LDLIBS) $(IMAGELIBS)
 	$(RM) libfltk_forms.so
 	$(LN) libfltk_forms.so.1.1 libfltk_forms.so
 
@@ -272,7 +272,7 @@
 
 libfltk_gl.so.1.1: $(GLOBJECTS) libfltk.so.1.1
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(GLOBJECTS) -L. -lfltk
+	$(DSOCOMMAND) $@ $(GLOBJECTS) -L. -lfltk $(GLDLIBS)
 	$(RM) libfltk_gl.so
 	$(LN) libfltk_gl.so.1.1 libfltk_gl.so
 
@@ -308,7 +308,7 @@
 
 libfltk_images.so.1.1: $(IMGOBJECTS) libfltk.so.1.1
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(IMGOBJECTS) -L. $(IMAGELIBS) -lfltk
+	$(DSOCOMMAND) $@ $(IMGOBJECTS) -L. $(IMAGELIBS) -lfltk $(LDLIBS) $(IMAGELIBS)
 	$(RM) libfltk_images.so
 	$(LN) libfltk_images.so.1.1 libfltk_images.so
 
--- fltk-1.1.8/configure.in~	2008-03-28 10:38:36.000000000 +0100
+++ fltk-1.1.8/configure.in	2008-03-28 10:38:50.000000000 +0100
@@ -179,7 +179,7 @@
             FLDSONAME="libfltk_forms.so.$FL_API_VERSION"
             GLDSONAME="libfltk_gl.so.$FL_API_VERSION"
             IMGDSONAME="libfltk_images.so.$FL_API_VERSION"
-            DSOCOMMAND="\$(CXX) \$(DSOFLAGS) -Wl,-soname,\$@ \$(LDLIBS) -shared -fPIC $DEBUGFLAG -o"
+            DSOCOMMAND="\$(CXX) \$(DSOFLAGS) -Wl,-soname,\$@ -shared -fPIC $DEBUGFLAG -o"
 	    if test "x$libdir" != "x/usr/lib"; then
 		    DSOLINK="-Wl,-rpath,$libdir"
             fi
-- fltk-1.1.8/makeinclude.in~	2008-03-28 22:31:50.280354265 +0100
+++ fltk-1.1.8/makeinclude.in	2008-03-28 22:31:55.920623903 +0100
@@ -127,7 +127,7 @@
 UNINSTALL_DESKTOP = @UNINSTALL_DESKTOP@
 
 # Be quiet when building...
-.SILENT:
+#.SILENT:
 
 # Build commands and filename extensions...
 .SUFFIXES:	.0 .1 .3 .6 .c .cxx .h .fl .man .o .z $(EXEEXT)
--- fltk-1.1.8/src/Makefile~	2008-03-28 22:40:13.774424155 +0100
+++ fltk-1.1.8/src/Makefile	2008-03-28 22:46:26.665583815 +0100
@@ -494,16 +494,16 @@
 	-$(INSTALL_DIR) $(DESTDIR)$(libdir)
 	-$(INSTALL_DIR) $(DESTDIR)$(bindir)
 	$(RM) $(DESTDIR)$(libdir)/$(LIBNAME)
+	$(RANLIB) $(LIBNAME)
+	$(RANLIB) $(FLLIBNAME)
+	$(RANLIB) $(IMGLIBNAME)
 	$(INSTALL_LIB) $(LIBNAME) $(DESTDIR)$(libdir)
 	$(INSTALL_LIB) $(FLLIBNAME) $(DESTDIR)$(libdir)
 	$(INSTALL_LIB) $(IMGLIBNAME) $(DESTDIR)$(libdir)
-	$(RANLIB) $(DESTDIR)$(libdir)/$(LIBNAME)
-	$(RANLIB) $(DESTDIR)$(libdir)/$(FLLIBNAME)
 	if test x$(GLLIBNAME) != x; then \
+		$(RANLIB) $(GLLIBNAME); \
 		$(INSTALL_LIB) $(GLLIBNAME) $(DESTDIR)$(libdir); \
-		$(RANLIB) $(DESTDIR)$(libdir)/$(GLLIBNAME); \
 	fi
-	$(RANLIB) $(DESTDIR)$(libdir)/$(IMGLIBNAME)
 	if test x$(DSONAME) = xlibfltk.so.1.1; then\
 		$(RM) $(DESTDIR)$(libdir)/libfltk.so*;\
 		$(INSTALL_LIB) libfltk.so.1.1 $(DESTDIR)$(libdir); \
--- fltk-1.1.8/configure.in~	2008-03-28 23:00:54.660412250 +0100
+++ fltk-1.1.8/configure.in	2008-03-28 23:15:59.012846871 +0100
@@ -225,7 +225,7 @@
 	    ;;
     esac
 
-    LINKSHARED="-L../src -lfltk_images$SHAREDSUFFIX -lfltk_forms$SHAREDSUFFIX -lfltk$SHAREDSUFFIX"
+    LINKSHARED="-l:../src/libfltk_images.so -l:../src/libfltk_forms.so -l:../src/libfltk.so"
 else
     DSOCOMMAND="echo"
     DSOLINK=""
