--- fltk-1.1.3/src/Makefile.orig	2003-01-30 22:43:17.000000000 +0100
+++ fltk-1.1.3/src/Makefile	2003-05-16 21:53:12.000000000 +0200
@@ -200,7 +200,7 @@
 
 libfltk.so.1.1: $(OBJECTS)
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(OBJECTS) $(IMAGELIBS)
+	$(DSOCOMMAND) $@ $(OBJECTS) $(LDLIBS)
 	-$(RM) libfltk.so
 	$(LN) libfltk.so.1.1 libfltk.so
 
@@ -230,9 +230,9 @@
 	$(LIBCOMMAND) $@ $(FLOBJECTS)
 	$(RANLIB) $@
 
-libfltk_forms.so.1.1: $(FLOBJECTS)
+libfltk_forms.so.1.1: $(FLOBJECTS) libfltk.so.1.1
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(FLOBJECTS)
+	$(DSOCOMMAND) $@ $(FLOBJECTS) -L. -lfltk $(LDLIBS) $(IMAGELIBS)
 	-$(RM) libfltk_forms.so
 	$(LN) libfltk_forms.so.1.1 libfltk_forms.so
 
@@ -262,9 +262,9 @@
 	$(LIBCOMMAND) $@ $(GLOBJECTS)
 	$(RANLIB) $@
 
-libfltk_gl.so.1.1: $(GLOBJECTS)
+libfltk_gl.so.1.1: $(GLOBJECTS) libfltk.so.1.1
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(GLOBJECTS)
+	$(DSOCOMMAND) $@ $(GLOBJECTS) -L. -lfltk $(GLDLIBS)
 	-$(RM) libfltk_gl.so
 	$(LN) libfltk_gl.so.1.1 libfltk_gl.so
 
@@ -294,9 +294,9 @@
 	$(LIBCOMMAND) $@ $(IMGOBJECTS)
 	$(RANLIB) $@
 
-libfltk_images.so.1.1: $(IMGOBJECTS)
+libfltk_images.so.1.1: $(IMGOBJECTS) libfltk.so.1.1
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(IMGOBJECTS)
+	$(DSOCOMMAND) $@ $(IMGOBJECTS) -L. -lfltk $(LDLIBS) $(IMAGELIBS)
 	-$(RM) libfltk_images.so
 	$(LN) libfltk_images.so.1.1 libfltk_images.so
 
--- fltk-1.1.3/configure.in.orig	2003-01-30 22:38:18.000000000 +0100
+++ fltk-1.1.3/configure.in	2003-05-16 21:46:27.000000000 +0200
@@ -169,7 +169,7 @@
             FLDSONAME="libfltk_forms.so.$FL_API_VERSION"
             GLDSONAME="libfltk_gl.so.$FL_API_VERSION"
             IMGDSONAME="libfltk_images.so.$FL_API_VERSION"
-            DSOCOMMAND="\$(CXX) -Wl,-soname,\$@ \$(LDLIBS) -shared -fPIC $DEBUGFLAG -o"
+            DSOCOMMAND="\$(CXX) -Wl,-soname,\$@ -shared -fPIC $DEBUGFLAG -o"
 	    if test "$libdir" != "/usr/lib"; then
 		    DSOLINK="-Wl,-rpath,$libdir"
             fi
@@ -649,22 +649,7 @@
     # Previous versions of GCC do not have the reliance on the stdc++
     # or g++ libraries, so the extra supc++ library is not needed.
 
-    AC_MSG_CHECKING(if libsupc++ is required)
-
-    SUPC="`$CXX -print-file-name=libsupc++.a 2>/dev/null`"
-    case "$SUPC" in
-    	libsupc++.a*)
-	    # Library not found, so this is and older GCC...
-	    AC_MSG_RESULT(no)
-	    ;;
-	*)
-            # This is gcc 3.x, and it knows of libsupc++, so we need it
-            LIBS="$LIBS -lsupc++"
-            AC_MSG_RESULT(yes)
-	    ;;
-    esac
-
-    CXX="$CC"
+    # PLD: we link all C++ programs against the same version of shared libstdc++.
 
     # Show all standard warnings + unused variables when compiling...
     OPTIM="-Wall -Wunused $OPTIM"
